<html>
<head>
<title> CS585 Homework Template: HW[x] Student Name [xxx]  </title>
<style>
<!--
body{
font-family: 'Trebuchet MS', Verdana;
}
p{
font-family: 'Trebuchet MS', Times;
margin: 10px 10px 15px 20px;
}
h4{
    margin: 15px;
}
h3{
margin: 10px;
}
h2{
margin: 10px;
}
h1{
margin: 10px 0px 0px 20px;
}
div.main-body{
align:center;
margin: 30px;
}
hr{
margin:20px 0px 20px 0px;
}
.img-face{
width:100%
}
.tg {
    border-collapse: collapse;
    border-spacing: 0;
}

.tg td {
    font-family: Arial, sans-serif;
    font-size: 14px;
    padding: 10px 5px;
    border-style: solid;
    border-width: 1px;
    overflow: hidden;
    word-break: normal;
    border-color: black;
}

.tg th {
    font-family: Arial, sans-serif;
    font-size: 14px;
    font-weight: normal;
    padding: 10px 5px;
    border-style: solid;
    border-width: 1px;
    overflow: hidden;
    word-break: normal;
    border-color: black;
}

.tg .tg-ted4 {
    border-color: #333333;
    text-align: center;
    vertical-align: middle;
}

-->
</style>
</head>

<body>
<center>
<a href="http://www.bu.edu"><img border="0" src="http://www.cs.bu.edu/fac/betke/images/bu-logo.gif"
width="119" height="120"></a>
</center>

<h1>Assignment 3</h1>
<p> 
CS 585 HW 3<br>
Alex Wong and Wei-Hsiang Lin<br>
Feb 23, 2020
</p>

<h1>Part 1</h1>
<div class="main-body">
<hr>
<h2> Problem Definition </h2>
<p>For Part 1, we are given binary images of hands and a stained tissue sample of a breast cancer tumor. We need to label the connected components, apply boundary following algorithm, compute image moment metrics and apply skeleton finding algorithm.</p>
<p>This is very important in the area of computer vision, because it lays as foundations for more complicated object segmentation problems.</p>
<hr>
<h2> Method and Implementation </h2>
<h3>Connected Components</h3>
<h4>Pre-Process Image</h4>
<p>The first step is to <b>preprocess the image</b> using a variation of dilation, erosion, opening, closing, gaussian blur and thresholding. Depending on the situation, the operations vary slightly.</p>
<p>We usually use dilation to expand the image of focus; eg. filling a hole or merging lines together</p>
<p>We usually use erosion to do the opposite; break away small parts.</p>
<p>The combination of erosion and dilation, depending on which goes first, is known as 'opening' and 'closing'. Closing helps to remove small blobs and Opening helps to fill in holes.</p>
<p>Blur and Thresholding are additional operations used to remove unwanted pixels.</p>

<h4>Flood Fill</h4>
<p>The next step is to retrieve the connected components. To achieve this, I modified the usual flood fill algorithm to take in multiple colors as it iteratively traverses the image. The result is an image where different connected components have different colors (randomly generated).</p>

<h3>Filter large components</h3>
<p>Next, we find the biggest n connected components by counting the colors(eg. the most-occuring color denotes the largest connected component). We assume the largest component is the background (this works for the sample images provided), and thus, we don't take in account of the largest component. We take the 2nd to n-th component as our objects of focus.</p>

<h3>Boundary Tracing</h3>
<p>We find the boundary of our object of focus by using the boundary tracing algorithm. In short, it finds the first black pixel (start of the boundary), and then circles the black pixel clock-wise to find the next black pixel, which becomes the next pixel of our boundary. Eventually, it continues until we end up with the first black pixel we started with. By then, we already have a chain of black pixels, which is the boundary of our object of focus.</p>

<h3>Image Moments</h3>
<p>The algorithms used to calculate this is as follows:</p>
<h4>Area and Center of Mass</h4>
<img style="width: 100%" src="./img/p1/area_center_of_mass.png"/>
<h4>Second Moment</h4>
<img style="width: 100%" src="./img/p1/second_moment.png"/>
<h4>Orientation</h4>
<img style="width: 100%" src="./img/p1/orientation.png"/>

<h3>Skeleton Finding</h3>
<p>An overview of this algorithm is that it continuously erodes the original image. At each iteration, we get the difference from previous and stores it (using bitwise_or). The result is a skeletion path of the image of focus</p>

<hr>
<h2>Results</h2>
<p>The results were good, but it's important to keep in mind that it was fine-tuned manually. A new image may not work with the current parameters.</p>


<h3>Original</h3>
<table>
    <tr>
        <th>Open Hand</th>
        <th>Open Hand Partial</th>
        <th>Open Fist</th>
        <th>Tumor</th>
    </tr>
    <tr>
        <td style="width:25%"><img src="./img/p1/open-bw-full.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open-bw-partial.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_fist-bw.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/tumor-fold.png" class="img-face"/></td>
    </tr>
</table>

<h3>Connected Components</h3>
<table>
	<tr>
		<th>Open Hand</th>
		<th>Open Hand Partial</th>
		<th>Open Fist</th>
		<th>Tumor</th>
	</tr>
	<tr>
		<td style="width:25%"><img src="./img/p1/open_full_cc.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_partial_cc.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_fist_cc.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/tumor_cc.png" class="img-face"/></td>
	</tr>
</table>


<h3>Boundary Tracing</h3>
<table>
    <tr>
        <th>Open Hand</th>
        <th>Open Hand Partial</th>
        <th>Open Fist</th>
        <th>Tumor</th>
    </tr>
    <tr>
        <td style="width:25%"><img src="./img/p1/open_full_boundary_img.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_partial_boundary_img.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_fist_boundary_img.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/tumor_boundary_img.png" class="img-face"/></td>
    </tr>
</table>

<h3>Skeleton Finding</h3>
<table>
    <tr>
        <th>Open Hand</th>
        <th>Open Hand Partial</th>
        <th>Open Fist</th>
        <th>Tumor</th>
    </tr>
    <tr>
        <td style="width:25%"><img src="./img/p1/open_full_skeleton.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_partial_skeleton.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/open_fist_skeleton.png" class="img-face"/></td>
        <td style="width:25%"><img src="./img/p1/tumor_skeleton.png" class="img-face"/></td>
    </tr>
</table>

<h3>Image Moments</h3>
<img style="width:100%" src="./img/p1/moment_numbers.png"/>

<hr>
<h2> Discussion </h2>
<!-- TODO -->

<hr>
<h2> Conclusions </h2>
<!-- TODO -->
<hr>
</div>

<h1>Part 2</h1>
<div class="main-body">
<hr>
<h2> Problem Definition </h2>

<!-- TODO -->

<hr>
<h2> Method and Implementation </h2>

<!-- TODO -->

<hr>
<h2>Experiments</h2>
<h3>Environmental Factors</h3>
<!-- TODO -->
<h3>Algorithms</h3>
<!-- TODO -->
<h3>Hand Gestures</h3>
<!-- TODO -->
<hr>
<h2>Results</h2>
<!-- TODO -->

<hr>
<h2> Discussion </h2>
<!-- TODO -->
<hr>
<h2> Conclusions </h2>
<!-- TODO -->


<h2> Credits and Bibliography </h2>
<p>OpenCV documentation</p>

<hr>
</div>
</body>
</html>

